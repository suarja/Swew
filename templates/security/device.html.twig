{% extends 'base.html.twig' %}

{% block title %}Device Approval · SWE Wannabe{% endblock %}

{% block body %}
    <section class="panel panel--hero">
        <p class="panel__eyebrow">shell · device</p>
        <h1 class="panel__title">Authorize CLI device</h1>
        <p class="panel__subtitle">
            Enter the code your terminal displayed. This links the CLI session to your account.
        </p>
    </section>

    {% if message %}
        <section class="panel {% if status == 'success' %}panel--note{% endif %}">
            <p class="panel__title">{{ message }}</p>
        </section>
    {% endif %}

    <section class="panel">
        <form method="post" class="login-form">
            <label for="user_code">Device code</label>
            <input type="text" id="user_code" name="user_code" placeholder="ABCD-EFGH" required autofocus maxlength="9">
            <input type="hidden" name="_csrf_token" value="{{ csrf_token('device_verify') }}">
            <button class="login-submit" type="submit">Authorize</button>
        </form>
    </section>
{% endblock %}
